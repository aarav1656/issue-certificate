{"ast":null,"code":"import axios from \"axios\";\n// require('dotenv').config();\n\n//Paste Your API's Key and Secret here\npinataApiKey = process.env.API_PINATA;\nconst pinataApiSecret = process.env.LOL_SECRET;\nconsole.log(pinataApiKey);\nconst pinataApiUrl = \"https://api.pinata.cloud/pinning/pinFileToIPFS\";\nconst pinataHeaders = {\n  headers: {\n    \"Content-Type\": \"multipart/form-data\",\n    pinata_api_key: pinataApiKey,\n    pinata_secret_api_key: pinataApiSecret\n  }\n};\nexport async function uploadToIPFS(file) {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  try {\n    const response = await axios.post(pinataApiUrl, formData, pinataHeaders);\n    const ipfsHash = response.data.IpfsHash;\n    return `https://gateway.pinata.cloud/ipfs/${ipfsHash}`;\n  } catch (error) {\n    console.error(\"Error uploading file to Pinata:\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["axios","pinataApiKey","process","env","API_PINATA","pinataApiSecret","LOL_SECRET","console","log","pinataApiUrl","pinataHeaders","headers","pinata_api_key","pinata_secret_api_key","uploadToIPFS","file","formData","FormData","append","response","post","ipfsHash","data","IpfsHash","error"],"sources":["/home/aarav/Desktop/tut/certificate2/src/ipfsUploader.js"],"sourcesContent":["import axios from \"axios\";\n// require('dotenv').config();\n\n//Paste Your API's Key and Secret here\npinataApiKey = process.env.API_PINATA;\nconst pinataApiSecret = process.env.LOL_SECRET;\nconsole.log(pinataApiKey)\n\nconst pinataApiUrl = \"https://api.pinata.cloud/pinning/pinFileToIPFS\";\n\nconst pinataHeaders = {\n  headers: {\n    \"Content-Type\": \"multipart/form-data\",\n    pinata_api_key: pinataApiKey,\n    pinata_secret_api_key: pinataApiSecret,\n  },\n};\n\nexport async function uploadToIPFS(file) {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  try {\n    const response = await axios.post(pinataApiUrl, formData, pinataHeaders);\n    const ipfsHash = response.data.IpfsHash;\n    return `https://gateway.pinata.cloud/ipfs/${ipfsHash}`;\n  } catch (error) {\n    console.error(\"Error uploading file to Pinata:\", error);\n    throw error;\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB;;AAEA;AACAC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AACrC,MAAMC,eAAe,GAAGH,OAAO,CAACC,GAAG,CAACG,UAAU;AAC9CC,OAAO,CAACC,GAAG,CAACP,YAAY,CAAC;AAEzB,MAAMQ,YAAY,GAAG,gDAAgD;AAErE,MAAMC,aAAa,GAAG;EACpBC,OAAO,EAAE;IACP,cAAc,EAAE,qBAAqB;IACrCC,cAAc,EAAEX,YAAY;IAC5BY,qBAAqB,EAAER;EACzB;AACF,CAAC;AAED,OAAO,eAAeS,YAAYA,CAACC,IAAI,EAAE;EACvC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAE7B,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAACX,YAAY,EAAEO,QAAQ,EAAEN,aAAa,CAAC;IACxE,MAAMW,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACC,QAAQ;IACvC,OAAQ,qCAAoCF,QAAS,EAAC;EACxD,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdjB,OAAO,CAACiB,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}